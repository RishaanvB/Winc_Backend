{% extends 'base.html' %}
<!-- macro for inputerrors -->
{% block content %} {% macro with_errors(field) %} {% if field.errors %} {% set
css_class = 'form-control form-control-lg is-invalid ' + kwargs.pop('class', '')
%} {{ field(class=css_class, **kwargs) }}
<div class="invalid-feedback">
  {% for error in field.errors %}
  <small>{{ error|e }}</small>
  {% endfor %}
</div>

{% else %} {{ field(**kwargs) }} {% endif %} {% endmacro %}

<!-- macro for seperate input groups -->
{%- macro formgroup(name="", input="", col=6, value="",
placeholder="",id="",onkeyup='', class="form-control border border-2
border-secondary") -%}
<div class="col-lg-{{col}} form-group">
  <div class="input-group mb-3">
    <span
      class="
        input-group-text
        bg-secondary
        text-light
        border border-2 border-secondary
      "
      >{{name}}
    </span>
    {{with_errors(input, class=class, value=value, placeholder=placeholder,
    id=id) }}
  </div>
</div>
{%- endmacro -%} {% include "account_nav.html" %}
<div class="container p-4 m-5 mx-auto shadow w-50">
  <!--test products DELETE111!!!!!!!!!!  -->

  {% for p in products %}
  <p>{{p.name}}</p>
  <p>{{get_tags(p.id)}}</p>

  {% endfor %}

  <form action="" method="POST" class="row g-3">
    {{ product_form.hidden_tag() }}
    <legend class="border-bottom mb-4 fw-bolder">Add Your Product</legend>

    <!-- productname -->
    {{formgroup(input=product_form.name, name="Product Name",
    placeholder="Name")}}
    <!-- price_per_unit -->
    {{formgroup(input=product_form.price_per_unit, name="â‚¬", col=6,
    placeholder="10.00")}}
    <!-- amount_to_add -->
    {{formgroup(input=product_form.amount_to_add, name="Quantity", col=6,
    class="form-control form-select border border-2 border-secondary")}}
    <!-- tags -->
    {{formgroup(input=product_form.tags, name="Category", col=6,
    placeholder="Seperate Categories By Spaces")}}
    <!-- add_product -->
    <div class="form-group mt-4" role="button">
      {{ product_form.add_product(class="btn btn-warning text-dark fw-bolder")
      }}
    </div>
  </form>
</div>

{% endblock content %}
